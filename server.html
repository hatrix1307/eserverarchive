<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Eagler Server List</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="icon" href="/favicon.ico">

<!-- CSS ORDER (IMPORTANT) -->
<link rel="stylesheet" href="/_next/static/css/2be4c86ae301c45c.css">
<link rel="stylesheet" href="/_next/static/css/4d58c923eeda897e.css">
<link rel="stylesheet" href="/_next/static/css/7b2b4dd7ecbe86d1.css">
<link rel="stylesheet" href="/_next/static/css/801a346d713e02dc.css">
<link rel="stylesheet" href="/_next/static/css/77845debe7d9c992.css">
<link rel="stylesheet" href="/_next/static/css/dc7d422723254cb5.css">
</head>

<body>
<div id="__next">
<main class="__className_cc80f9">

<!-- Navbar -->
<nav class="Navbar_root__hs6un">
  <div class="Navbar_logo__eioWt">
    <img src="/eagler.png" alt="Logo">
    <h1>Eagler Server List</h1>
  </div>
  <div class="Navbar_spacer__t53No"></div>
  <ul class="Navbar_navElements__a5nON">
    <li><a href="/">Home</a></li>
    <li><a href="/news">Site News</a></li>
  </ul>
</nav>

<!-- Page Content -->
<div class="Server_root__SeWV0">

  <!-- Header (Dynamic) -->
  <div class="Server_flexCenter__mnne6" id="header"></div>

  <!-- Server Info Cards (Dynamic) -->
  <div class="Server_cardsRow__ulRw7" id="info"></div>
  <div class="Server_cardsRow__ulRw7" id="description"></div>

</div>

<!-- Footer -->
<footer class="Footer_footer__yUjxG">
  <p>Copyright Â© Eagler Server List 2025</p>
  <ul>
    <li><a href="/privacy"><b>Privacy Policy</b></a></li>
    <li><a href="/tos"><b>Terms of Service</b></a></li>
    <li><a href="https://discord.gg/jT7YZxDarC"><b>Discord Server</b></a></li>
  </ul>
</footer>

</main>
</div>

<!-- Dynamic Server Data Script -->
<script>
(async () => {
  const id = new URLSearchParams(location.search).get("id");
  if (!id) return;

  const res = await fetch(`/data/${id}.json`);
  if (!res.ok) {
    document.getElementById("header").innerHTML = "<h1>Server not found</h1>";
    return;
  }

  const json = await res.json();
  const s = json.data || json;

  document.title = `Eagler Server List | ${s.name}`;

  // Header
  document.getElementById("header").innerHTML = `
    <h1>${s.name}</h1>
    <div class="Server_ownerAvatar__k3zpv">
      <img src="${s.user?.avatar || ""}" alt="Owner Avatar">
      <a href="#">${s.user?.username || "Unknown"}</a>
    </div>
  `;

  // Server Info Card
  document.getElementById("info").innerHTML = `
    <div class="Card_card__dlNs0">
      <div class="Card_header__ZfKiq"><p>Server Info</p></div>
      <div class="Card_content__D0RDr">
        <p><b>Address:</b> ${s.address}</p>
        <p><b>Votes:</b> ${s.votes}</p>
      </div>
    </div>
  `;

  // Description Card
  document.getElementById("description").innerHTML = `
    <div class="Card_card__dlNs0">
      <div class="Card_header__ZfKiq"><p>Description</p></div>
      <div class="Card_content__D0RDr">
        ${s.description || "No description"}
      </div>
    </div>
  `;
})();
</script>

</body>
</html>
