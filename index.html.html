<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Eagler Server List | Home</title>
    
    <link rel="stylesheet" href="./Eagler Server List _ Home_files/7b2b4dd7ecbe86d1.css">
    <link rel="stylesheet" href="./Eagler Server List _ Home_files/76289acd00d625c1.css">
    <link rel="stylesheet" href="./Eagler Server List _ Home_files/dc7d422723254cb5.css">
    <link rel="stylesheet" href="./Eagler Server List _ Home_files/801a346d713e02de.css">
    <link rel="stylesheet" href="./Eagler Server List _ Home_files/2be4c86ae301c45c.css">

    <style>
        /* Small helper to make sure the server list looks good while loading */
        #dynamic-server-container {
            min-height: 50vh;
        }
        .loading-text {
            color: #fff;
            text-align: center;
            padding: 20px;
            font-size: 1.2rem;
        }
    </style>
</head>
<body style="background-color: #111; color: #fff;">
    <div id="__next">
        <div>
            <main class="__className_cc80f9">
                <div class="Notification_notificationWrapper__8XfQo"></div>
                <main class="Home_appContainer__0oIwU" style="opacity: 1;">
                    <div>
                        <nav class="Navbar_mobileRoot__uUZ_C">
                            <img src="./Eagler Server List _ Home_files/cdn_object_usage_collection.png" style="width: 1px; height: 1px;">
                            <div style="display: flex; flex-direction: row; justify-content: space-between; align-items: center; padding-top: 12px;">
                                <div class="Navbar_logo__eioWt">
                                    <img src="./Eagler Server List _ Home_files/eagler.png" alt="Logo">
                                    <h1>Eagler Server List</h1>
                                </div>
                                <div class="Navbar_hamburger__Uw_zj false">
                                    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" color="#fff" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"></path>
                                    </svg>
                                </div>
                            </div>
                        </nav>
                        <nav class="Navbar_root__hs6un">
                            <div class="Navbar_logo__eioWt">
                                <img src="./Eagler Server List _ Home_files/eagler.png" alt="Logo">
                                <h1>Eagler Server List</h1>
                            </div>
                            <div class="Navbar_spacer__t53No"></div>
                            <ul class="Navbar_navElements__a5nON">
                                <li class="Navbar_active__OcRhr">
                                    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" color="#fb8464" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" style="color: rgb(251, 132, 100);">
                                        <path d="M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"></path>
                                    </svg>
                                    <a href="#">Home</a>
                                </li>
                                <li>
                                    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 576 512" color="#fb8464" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" style="color: rgb(251, 132, 100);">
                                        <path d="M552 64H88c-13.255 0-24 10.745-24 24v8H24c-13.255 0-24 10.745-24 24v272c0 30.928 25.072 56 56 56h472c26.51 0 48-21.49 48-48V88c0-13.255-10.745-24-24-24zM56 400a8 8 0 0 1-8-8V144h16v248a8 8 0 0 1-8 8zm236-16H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm-208-96H140c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm208 0H348c-6.627 0-12-5.373-12-12v-8c0-6.627 5.373-12 12-12h152c6.627 0 12 5.373 12 12v8c0 6.627-5.373 12-12 12zm0-96H140c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h360c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12z"></path>
                                    </svg>
                                    <a href="#">Site News</a>
                                </li>
                            </ul>
                            <div style="margin: 0px 30px 0px 0px;">
                                <button class="Button_button__0wJmc" style="background-color: rgb(88, 101, 242);">
                                    <div style="color: rgb(255, 255, 255); transition: 0.2s ease-in-out;">Login with Discord</div>
                                </button>
                            </div>
                        </nav>

                        <div class="Home_homeRoot__D6YiM">
                            <h1>Servers</h1>
                            <p>View a list of available servers.</p>
                            
                            <div style="margin: 10px 0px;">
                                <div class="ServerSearchBox_inputContainer__0saWA">
                                    <div class="ServerSearchBox_inputStartIcon__zJ0pa">
                                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"></path></svg>
                                    </div>
                                    <form class="ServerSearchBox_searchInput__PlQsd" onsubmit="return false;">
                                        <input type="text" placeholder="Search" value="">
                                        <button class="ServerSearchBox_button__x3Qrj" type="submit">
                                            <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" color="#fb8464" height="15" width="15" xmlns="http://www.w3.org/2000/svg" style="color: rgb(251, 132, 100);"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
                                        </button>
                                    </form>
                                </div>
                            </div>

                            <div id="dynamic-server-container">
                                <p class="loading-text">Loading servers from serverlistjson.txt...</p>
                            </div>

                        </div>
                    </div>

                    <footer class="Footer_footer__yUjxG">
                        <p>Copyright Â© Eagler Server List 2025</p><br>
                        <ul>
                            <li><a href="#"><span><b>Privacy Policy</b></span></a></li>
                            <li><a href="#"><span><b>Terms of Service</b></span></a></li>
                            <li><a href="#"><span><b>Discord Server</b></span></a></li>
                        </ul>
                    </footer>
                </main>
            </main>
        </div>
    </div>

    <script>
        async function fetchAndRenderServers() {
            try {
                // 1. Fetch the text file
                const response = await fetch('./serverlistjson.txt');
                const rawText = await response.text();

                // 2. Parse the concatenated JSON pages
                // The file structure is {data...}{data...} so we split by "}{"
                const pageStrings = rawText.split(/}\s*{/).map((str, i, arr) => {
                    if (i === 0) return str + "}";
                    if (i === arr.length - 1) return "{" + str;
                    return "{" + str + "}";
                });

                let allServers = [];
                pageStrings.forEach(jsonStr => {
                    try {
                        const parsed = JSON.parse(jsonStr);
                        if (parsed.success && Array.isArray(parsed.data)) {
                            allServers.push(...parsed.data);
                        }
                    } catch (e) {
                        console.warn("Skipped a malformed page chunk", e);
                    }
                });

                // 3. Render
                const container = document.getElementById('dynamic-server-container');
                container.innerHTML = ''; // Clear loading message

                if (allServers.length === 0) {
                    container.innerHTML = '<p class="loading-text">No servers found.</p>';
                    return;
                }

                allServers.forEach(server => {
                    const card = document.createElement('div');
                    card.className = "Server_box__TMsXv"; // Preserved original class

                    // Determine Status Color
                    const statusColor = server.online ? 'rgb(70, 227, 147)' : 'rgb(255, 101, 101)';
                    const statusBg = server.online ? '#4caf50' : '#f44336';

                    // Generate Tags HTML using original classes
                    const tagsHtml = server.tags.map(tag => 
                        `<div class="Badge_inlineBadge__h8Mo1" style="color: ${statusColor}; border: 1px solid ${statusColor}; padding: 2px 8px; border-radius: 12px; font-size: 0.8em;">${tag}</div>`
                    ).join('');

                    card.innerHTML = `
                        <h2 style="overflow: hidden; display: flex; justify-content: space-between; align-items: center;">
                            ${server.name} 
                            <div class="StatusIndicator_status__pidlp" style="background-color: ${statusBg}; width: 12px; height: 12px; border-radius: 50%;"></div>
                        </h2>
                        <h3 style="color: rgb(170, 170, 170); margin: 5px 0;">
                            Votes: <span style="color: rgb(70, 227, 147);">${server.votes}</span>
                        </h3>
                        <div class="Server_tagListContainer__tAO2z" style="display: flex; gap: 5px; flex-wrap: wrap; margin: 10px 0;">
                            ${tagsHtml}
                        </div>
                        <h3>
                            IP: <span aria-label="Copy Address" style="font-weight: 600; cursor: pointer; color: #fb8464; font-family: monospace;">${server.address}</span>
                        </h3>
                        <div style="font-size: 0.8em; color: #888; margin-top: 10px; border-top: 1px solid #333; padding-top: 5px;">
                            ${server.online ? 'Online Players: ' + (server.motd?.online || 0) : 'Offline'} | Owner: ${server.user.username}
                        </div>
                    `;
                    container.appendChild(card);
                });

            } catch (err) {
                console.error(err);
                document.getElementById('dynamic-server-container').innerHTML = 
                    `<p class="loading-text" style="color: red;">Error loading servers: ${err.message}. Ensure serverlistjson.txt is in the root folder.</p>`;
            }
        }

        document.addEventListener('DOMContentLoaded', fetchAndRenderServers);
    </script>
</body>
</html>
